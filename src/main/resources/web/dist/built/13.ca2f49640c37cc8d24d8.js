webpackJsonp([13],{137:function(e,t,i){var l,a,n={};l=i(138),a=i(140),e.exports=l||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var s="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(s.template=a),s.computed||(s.computed={}),Object.keys(n).forEach(function(e){var t=n[e];s.computed[e]=function(){return t}})},138:function(e,t,i){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(139),n=l(a);t["default"]=n["default"]},139:function(e,t,i){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),i(!function(){var e=new Error('Cannot find module "../../assets/jquery/jbox/jquery.jBox-2.3.min.js"');throw e.code="MODULE_NOT_FOUND",e}()),i(!function(){var e=new Error('Cannot find module "../../assets/jquery/jbox/jbox.min.css"');throw e.code="MODULE_NOT_FOUND",e}());var a=i(9),n=l(a);t["default"]={data:function(){return{transition:{},curView:0,card:[{name:"业务表列表"},{name:"业务表添加"},{name:"生成方案列表"},{name:"生成方案添加"}],genTableFilter:{pageNo:1,pageSize:10,nameLike:"",comments:"",parentTable:"",orderBy:""},genTableList:{},genTableFormFilter:{id:"",name:""},genTableFormList:{},saveGenTableFormFilter:{},genTableForm:{id:"",name:"",comments:"",className:"",parentTable:"",parentTableFk:"",remarks:"",columnList:[{id:"",name:"",delFlag:"",genTable:{id:""},comments:"",jdbcType:"",javaType:"",javaField:"",isPk:"",isInsert:"",isNull:"",isQuery:"",queryType:"",showType:"",dictType:"",sort:"",isEdit:"",isList:""}]},genTableModify:{},genSchemeFilter:{pageNo:1,pageSize:10,name:""},genSchemeList:{},genSchemeModify:{},saveGenSchemeFilter:{}}},route:{activate:function(){this.$parent.showProject=!0},deactivate:function(){this.$parent.showProject=!1},data:function(e){this.curView=e.to.params.id,this.transition=e,this.init()}},created:function(){$("body").removeClass("loading"),this.$parent.showProject=!0},methods:{init:function(){this.saveGenSchemeFilter={}},backTable:function(){history.length>1?history.go(-1):self.$route.router.replace({path:"/autoCode/1"})},getGenTableList:function(){s.getGenTableList(this.genTableFilter,this)},TableModifyById:function(e){s.getGenTableForm({id:e},this,!0)},genTableFormById:function(){s.getGenTableForm(this.genTableFormFilter,this,!0)},saveGenTableForm:function(){s.saveGenTableForm(this.saveGenTableFormFilter,this)},genSchemeListForm:function(){s.genSchemeList(this.genSchemeFilter,this)},genSchemeModifyById:function(e){s.genSchemeModifyById({id:e},this,!0)},saveGenSchemeForm:function(e){this.saveGenSchemeFilter.flag=e,s.saveGenSchemeForm(this.saveGenSchemeFilter,this)},deleteGenSchemeForm:function(e){confirm("确认要删除该业务表吗？",s.deleteGenSchemeForm({id:e},this))},deleteGenTableForm:function(e){confirm("确认要删除该业务表吗？",s.deleteGenTableForm({id:e},this))}},watch:{curView:function(e){var t=this;switch(parseFloat(e)){case 0:s.getGenTableList(t.genTableFilter,t);break;case 1:s.getGenTableForm({},t);break;case 2:s.genSchemeList({},t);break;case 3:t.transition.to.query.id&&!t.genSchemeModify.id?s.genSchemeModifyById({id:t.transition.to.query.id},this,!0):s.genSchemeModifyById({},this,!0)}}}};var s={getGenTableList:function(e,t){n["default"].post("gen/genTable/list",e,function(e){t.genTableList=e.data})},getGenTableForm:function(e,t,i){n["default"].post("gen/genTable/form",e,function(l){t.genTableForm.config=l.data.config,t.saveGenTableFormFilter=l.data.genTable,t.genTableFormList=l.data.tableList,t.genTableFormFilter.name=l.data.tableList[0].name;for(var a in t.saveGenTableFormFilter.columnList){var n=t.saveGenTableFormFilter.columnList[a];n.isPk=1==n.isPk,n.isInsert=1==n.isInsert,n.isNull=1==n.isNull,n.isQuery=1==n.isQuery,n.isEdit=1==n.isEdit,n.isList=1==n.isList}i&&t.$route.router.go({path:"/autoCode/1.1",query:e})})},saveGenTableForm:function(e,t){var i={id:e.id||"",name:e.name,comments:e.comments,className:e.className,parentTable:e.parentTable,parentTableFk:e.parentTableFk,remarks:e.remarks,delFlag:e.delFlag?1:0};for(var l in e.columnList)i["columnList["+l+"].id"]=null==e.columnList[l].id?"":e.columnList[l].id,i["columnList["+l+"].name"]=e.columnList[l].name,i["columnList["+l+"].delFlag"]=e.columnList[l].delFlag?1:0,i["columnList["+l+"].comments"]=e.columnList[l].comments,i["columnList["+l+"].jdbcType"]=e.columnList[l].jdbcType,i["columnList["+l+"].javaType"]=e.columnList[l].javaType,i["columnList["+l+"].javaField"]=e.columnList[l].javaField,i["columnList["+l+"].isPk"]=e.columnList[l].isPk?1:0,i["columnList["+l+"].isInsert"]=e.columnList[l].isInsert?1:0,i["columnList["+l+"].isNull"]=e.columnList[l].isNull?1:0,i["columnList["+l+"].isQuery"]=e.columnList[l].isQuery?1:0,i["columnList["+l+"].isEdit"]=e.columnList[l].isEdit?1:0,i["columnList["+l+"].isList"]=e.columnList[l].isList?1:0,i["columnList["+l+"].queryType"]=e.columnList[l].queryType,i["columnList["+l+"].showType"]=e.columnList[l].showType,i["columnList["+l+"].dictType"]=e.columnList[l].dictType,i["columnList["+l+"].sort"]=e.columnList[l].sort,i["columnList["+l+"].genTable.id"]=e.columnList[l].genTable&&e.columnList[l].genTable.id?e.columnList[l].genTable.id:"";n["default"].post("gen/genTable/save",i,function(e){toastr.success(e.msg),setTimeout(function(){history.go(-1)},600)})},genSchemeList:function(e,t){n["default"].post("gen/genScheme/list",e,function(e){t.genSchemeList=e.data})},genSchemeModifyById:function(e,t,i){n["default"].post("gen/genScheme/form",e,function(l){t.genSchemeModify.config=l.data.config,t.saveGenSchemeFilter=l.data.genScheme,t.genTableFormList=l.data.tableList,i&&t.$route.router.go({path:"/autoCode/3",query:e})})},saveGenSchemeForm:function(e,t){e.genTable&&e.genTable.id&&(e["genTable.id"]=e.genTable.id),delete e.genTable,n["default"].post("gen/genScheme/save",e,function(e){toastr.success(e.msg),setTimeout(function(){history.go(-1)},600)})},deleteGenSchemeForm:function(e,t){n["default"].post("gen/genScheme/delete",e,function(e){toastr.success(e.msg)})},deleteGenTableForm:function(e,t){n["default"].post("gen/genTable/delete",e,function(e){toastr.success(e.msg)})}}},140:function(e,t){e.exports=' <div class=auto-code> <div class=data-body> <ul class="nav nav-tabs" style="height: 40px"> <li v-for="item in card" :class="curView.substring(0,1)==$index?\'active\':\'\' "> <a v-link="$index==0 ? \'0\' :  $index">{{item.name}}</a>{{ \'\' | dateFormat}} </li> </ul> <div class="table-box cardBox1 cardBox" :class="curView==0 ? \'on\': \'\' "> <div id=searchForm class="breadcrumb form-search"> <input id=pageNo name=pageNo type=hidden v-model=genTableFilter.pageNo> <input id=pageSize name=pageSize type=hidden v-model=genTableFilter.pageNo> <input id=orderBy name=orderBy type=hidden v-model=genTableFilter.orderBy> <label>表名：</label><input id=nameLike name=nameLike class=input-medium type=text v-model=genTableFilter.nameLike maxlength=50> <label>说明：</label><input id=comments name=comments class=input-medium type=text v-model=genTableFilter.comments maxlength=50> <label>父表表名：</label><input id=parentTable name=parentTable class=input-medium type=text v-model=genTableFilter.parentTable maxlength=50> &nbsp; <input id=btnSubmit class="btn btn-primary" type=submit @click=getGenTableList value=查询> </div> <table id=contentTable class="table table-striped table-bordered table-condensed"> <thead> <tr> <th class=name>表名</th> <th>说明</th> <th class=class_name>类名</th> <th class=parent_table>父表</th> <th>操作</th> </tr> </thead> <tbody> <tr v-for="item in genTableList.list "> <td> <a @click=TableModifyById(item.id)>{{item.name}}</a> </td> <td>{{item.comments}}</td> <td>{{item.className}}</td> <td title=点击查询子表> <a href=javascript:></a> </td> <td> <a @click=TableModifyById(item.id)>修改</a> <a @click=deleteGenTableForm(item.id)>删除</a> </td> </tr> </tbody> </table> <div class=pagination v-html=genTableList.html></div> </div> <div class="genTableAdd cardBox2 cardBox" :class="curView==1 ? \'on\': \'\' "> <div id=inputForm class=form-horizontal novalidate=novalidate> <input id=id name=id type=hidden> <br> <div class=control-group> <label class=control-label>表名:</label> <div class=controls> <div class="select2-container input-xxlarge" id=s2id_name> <select id=name name=name class="input-xxlarge select2-offscreen" tabindex=-1 v-model=genTableFormFilter.name> <option v-for="item in genTableFormList" :value=item.name>{{item.nameAndComments}} </option> </select> </div> <div class=form-actions> <input id=btnSubmit class="btn btn-primary" type=submit @click=genTableFormById value=下一步>&nbsp; </div> </div> </div> </div> </div> <div id=inputForm class="form-horizontal genTableAdd cardBox2 cardBox" :class="curView==1.1 ? \'on\': \'\' "> <input id=id name=id type=hidden v-model=saveGenTableFormFilter.id> <legend>基本信息</legend> <div class=control-group> <label class=control-label>表名:</label> <div class=controls> <input id=name name=name class=required disabled=disabled type=text v-model=saveGenTableFormFilter.name maxlength=200> </div> </div> <div class=control-group> <label class=control-label>说明:</label> <div class=controls> <input id=comments name=comments class="required valid" type=text v-model=saveGenTableFormFilter.comments maxlength=200> </div> </div> <div class=control-group> <label class=control-label>类名:</label> <div class=controls> <input id=className name=className class=required type=text v-model=saveGenTableFormFilter.className maxlength=200> </div> </div> <div class=control-group> <label class=control-label>父表表名:</label> <div class=controls> <select id=parentTable name=parentTable class="input-xlarge select2-offscreen" tabindex=-1 v-model=saveGenTableFormFilter.parentTable> <option value="">无</option> <option v-for="item in genTableFormList" :value=item.name>{{item.nameAndComments}} </option> </select> &nbsp;当前表外键： <select id=parentTableFk name=parentTableFk class="input-xlarge select2-offscreen" tabindex=-1 v-model=saveGenTableFormFilter.parentTableFk> <option value="">无</option> <option v-for="item in genTableForm.columnList" :value=item.name>{{item.nameAndComments}} </option> </select> <span class=help-inline>如果有父表，请指定父表表名和外键</span> </div> </div> <div class="control-group hide"> <label class=control-label>备注:</label> <div class=controls> <textarea id=remarks name=remarks maxlength=200 class=input-xxlarge rows=4 v-model=saveGenTableFormFilter.remarks></textarea> </div> </div> <legend>字段列表</legend> <div class=control-group> <table id=contentTable class="table table-striped table-bordered table-condensed"> <thead> <tr> <th title=数据库字段名>列名</th> <th title=默认读取数据库字段备注>说明</th> <th title=数据库中设置的字段类型及长度>物理类型</th> <th title=实体对象的属性字段类型>Java类型</th> <th title=实体对象的属性字段（对象名.属性名|属性名2|属性名3，例如：用户user.id|name|loginName，属性名2和属性名3为Join时关联查询的字段）>Java属性名称 <i class=icon-question-sign></i></th> <th title=是否是数据库主键>主键</th> <th title=字段是否可为空值，不可为空字段自动进行空值验证>可空</th> <th title=选中后该字段被加入到insert语句里>插入</th> <th title=选中后该字段被加入到update语句里>编辑</th> <th title=选中后该字段被加入到查询列表里>列表</th> <th title=选中后该字段被加入到查询条件里>查询</th> <th title=该字段为查询字段时的查询匹配放松>查询匹配方式</th> <th title=字段在表单中显示的类型>显示表单类型</th> <th title=显示表单类型设置为“下拉框、复选框、点选框”时，需设置字典的类型>字典类型</th> <th>排序</th> </tr> </thead> <tbody> <tr v-for="item in saveGenTableFormFilter.columnList"> <td nowrap=""> <input type=hidden name=item.id v-model=item.id> <input type=hidden name=item.delFlag v-model=item.delFlag> <input type=hidden name=item.genTable.id v-model=item.genTable.id> <input type=hidden name=item.name v-model=item.name>{{item.name}} </td> <td> <input type=text name=item.comments v-model=item.comments maxlength=200 class=required style=width:100px> </td> <td nowrap=""> <input type=hidden name=item.jdbcType v-model=item.jdbcType>{{item.jdbcType}} </td> <td> <select name="" class="required input-mini select2-offscreen" v-model=item.javaType style=width:85px;*width:75px tabindex=-1> <option v-for="ik in  genTableForm.config.javaTypeList" :value=ik.value> {{ik.label}} </option> </select> </td> <td> <input type=text name=item.javaField v-model=item.javaField maxlength=200 class="required input-small"> </td> <td> <input type=checkbox v-model=item.isPk> </td> <td> <input type=checkbox v-model=item.isNull> </td> <td> <input type=checkbox v-model=item.isInsert> </td> <td> <input type=checkbox v-model=item.isEdit> </td> <td> <input type=checkbox v-model=item.isList> </td> <td> <input type=checkbox v-model=item.isQuery> </td> <td> <select name=item.queryType v-model=item.queryType class="required input-mini select2-offscreen" tabindex=-1> <option v-for="ik in  genTableForm.config.queryTypeList" :value=ik.value title=""> {{ik.label}} </option> </select> </td> <td> <select name=item.showType v-model=item.showType class="required select2-offscreen" style=width:100px tabindex=-1> <option v-for="ik in  genTableForm.config.showTypeList" :value=ik.value title=""> {{ik.label}} </option> </select> </td> <td> <input type=text name=item.dictType v-model=item.dictType maxlength=200 class=input-mini> </td> <td> <input type=text name=item.sort v-model=item.sort maxlength=200 class="required input-min digits"> </td> </tr> </tbody> </table> </div> <div class=form-actions> <input id=btnSubmit class="btn btn-primary" type=submit @click=saveGenTableForm value="保 存">&nbsp; <input id=btnCancel class=btn type=button value="返 回" @click=backTable> </div> </div> <div class="table-box cardBox3 cardBox" :class="curView==2 ? \'on\': \'\' "> <div id=searchForm class="breadcrumb form-search"> <label>方案名称 ：</label> <input id=name v-model=genSchemeFilter.name class=input-medium type=text maxlength=50> &nbsp; <input id=btnSubmit class="btn btn-primary" type=button @click=genSchemeListForm value=查询> </div> <table id=contentTable class="table table-striped table-bordered table-condensed"> <thead> <tr> <th>方案名称</th> <th>生成模块</th> <th>模块名</th> <th>功能名</th> <th>功能作者</th> <th>操作</th> </tr> </thead> <tbody> <tr v-for="item in genSchemeList.list"> <td> <a @click=genSchemeModifyById(item.id)>{{item.name}}</a> </td> <td>{{item.packageName}}</td> <td>{{item.moduleName}}</td> <td>{{item.functionName}}</td> <td>{{item.functionAuthor}}</td> <td> <a @click=genSchemeModifyById(item.id)>修改</a> <a @click=deleteGenSchemeForm(item.id)>删除</a> </td> </tr> </tbody> </table> <div class=pagination v-html=genSchemeList.html></div> </div> <div class="table-box cardBox4 cardBox" :class="curView==3 ? \'on\': \'\' "> <div id=inputForm class=form-horizontal> <input id=id name=id type=hidden v-model=saveGenSchemeFilter.id> <input id=flag name=flag type=hidden v-model=saveGenSchemeFilter.flag> <div class=control-group> <label class=control-label>方案名称:</label> <div class=controls> <input id=name v-model=saveGenSchemeFilter.name class=required type=text maxlength=200> <span class=help-inline></span> </div> </div> <div class=control-group> <label class=control-label>模板分类:</label> <div class=controls> <select id=category name=category v-model=saveGenSchemeFilter.category class="required input-xlarge select2-offscreen" tabindex=-1> <option value=curd>增删改查（单表）</option> <option value=curd_many>增删改查（一对多）</option> <option value=dao>仅持久层（dao/entity/mapper）</option> <option value=treeTable>树结构表（一体）</option> <option value=treeTableAndList>树结构表（左树右表）</option> </select> <span class=help-inline> 生成结构：{包名}/{模块名}/{分层(dao,entity,service,web)}/{子模块名}/{java类} </span> </div> </div> <div class=control-group> <label class=control-label>生成包路径:</label> <div class=controls> <input id=packageName v-model=saveGenSchemeFilter.packageName class="required input-xlarge" type=text maxlength=500> <span class=help-inline>建议模块包：com.qitoon.modules</span> </div> </div> <div class=control-group> <label class=control-label>生成模块名:</label> <div class=controls> <input id=moduleName v-model=saveGenSchemeFilter.moduleName class="required input-xlarge" type=text maxlength=500> <span class=help-inline>可理解为子系统名，例如 sys</span> </div> </div> <div class=control-group> <label class=control-label>生成子模块名:</label> <div class=controls> <input id=subModuleName v-model=saveGenSchemeFilter.subModuleName class=input-xlarge type=text maxlength=500> <span class=help-inline>可选，分层下的文件夹，例如 </span> </div> </div> <div class=control-group> <label class=control-label>生成功能描述:</label> <div class=controls> <input id=functionName v-model=saveGenSchemeFilter.functionName class="required input-xlarge" type=text maxlength=500> <span class=help-inline>将设置到类描述</span> </div> </div> <div class=control-group> <label class=control-label>生成功能名:</label> <div class=controls> <input id=functionNameSimple v-model=saveGenSchemeFilter.functionNameSimple class="required input-xlarge" type=text maxlength=500> <span class=help-inline>用作功能提示，如：保存“某某”成功</span> </div> </div> <div class=control-group> <label class=control-label>生成功能作者:</label> <div class=controls> <input id=functionAuthor v-model=saveGenSchemeFilter.functionAuthor class="required input-xlarge" type=text maxlength=500> <span class=help-inline>功能开发者</span> </div> </div> <div class=control-group> <label class=control-label>业务表名:</label> <div class=controls> <select id=genTable.id v-model=saveGenSchemeFilter.genTable.id class="required input-xlarge select2-offscreen" tabindex=-1> <option v-for="item in genTableFormList" :value=item.id>{{item.comments}} ( {{item.name}} ) </option> </select> <span class=help-inline>生成的数据表，一对多情况下请选择主表。</span> </div> </div> <div class="control-group hide"> <label class=control-label>备注:</label> <div class=controls> <textarea id=remarks v-model=saveGenSchemeFilter.remarks maxlength=200 class=input-xxlarge rows=4></textarea> </div> </div> <div class=control-group> <label class=control-label>生成选项:</label> <div class=controls> <input id=replaceFile1 v-model=saveGenSchemeFilter.replaceFile type=checkbox> <label for=replaceFile1>是否替换现有文件</label> <input type=hidden v-model=saveGenSchemeFilter._replaceFile> </div> </div> <div class=form-actions> <input id=btnSubmit class="btn btn-primary" type=button value=保存方案 @click=saveGenSchemeForm(0)>&nbsp; <input id=btnSubmit class="btn btn-warning" type=button value=保存并生成代码 @click=saveGenSchemeForm(1)>&nbsp; </div> </div> </div> </div> </div> '}});